<template name="Thing">
  <div class="container things">
    <ol class="breadcrumb">
      <li><a href="/">Home</a></li>
      <li><a href="/devices">Devices</a></li>
      <li>{{thing.name}}</li>
    </ol>
    <div class="row">
      <div class="jumbotron">
        {{#autoForm collection="Thing" type="update" doc=thing id="updateBookForm"}} {{> afQuickField name="name"}} {{> afQuickField name="description"}}
        <button type="submit" class="btn btn-primary"> update </button> {{/autoForm}}
      </div>
      <a href="/devices/new" class="btn btn-primary btn-fab add"><i class="material-icons fa fa-plus" aria-hidden="true"></i></a>
    </div>






    <div class="row">
      <div class="col-sm-4 col-md-3">
        {{# autoForm id="addVariable" type="update-pushArray" collection="Thing" doc=thing scope="variable"}}
        <div class="thumbnail">
          <div class="caption">
            <h3>Add Variable</h3>
            {{> afQuickField name="name"}}
          </div>
          <button type="submit" class="btn btn-primary"> add </button>
        </div>

        {{/autoForm}}
      </div>
      {{#each thing.variable}}
      <div class="col-sm-4 col-md-3">
        <div class="thumbnail">
          <div class="caption">
            <h3>{{name}}</h3>
            <h4> {{description}}</h4>
            <p> Last update: {{timeAgo lastUpdate}}</p>

            <p class="btn-group" role="group" aria-label="...">
              <a href="/device/{{_id}}" class="btn btn-info btn-xs" role="button">Open</a>
              <a href="#" class="btn btn-primary btn-xs" role="button">Edit</a>
              <a href="#" class="btn btn-deny btn-xs js-delete" role="button">Delete</a>
            </p>
          </div>
        </div>
      </div>
      {{/each}}
    </div>
  </div>
</template>
